{"ts":1354160152127,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"//These are node modules. They allow you to use node.js's APIs\nvar http = require('http'),\n\turl = require('url');\n\n// http://nodejs.org/api/url.html - We'll be parsing the querystring with this.\n\nconsole.log('script running');\nvar header ='<!doctype html><html><head><title>My Preprocessed App</title></head><body><div class=\"header\"><h1>My Preprocessed Header</h1>';\nvar goBack ='<a href=\"/\">Go Back Home</a>';\nvar footer ='</body>';\n\nhttp.createServer(function (request,response) {\n    console.log('server running');\n\tvar path = url.parse(request.url).pathname;\n    var querystring = url.parse(request.url, true).query;  //return an object from a querystring with raw name-value pairs.\n    var body = makeBody(path, querystring);\n    response.writeHead(200, {\n    'Content-Length': body.length,\n    'Content-Type': 'text/html' });\n    response.end(body);\n}).listen(process.env.PORT);\n\n\n\n\nfunction makeBody(path, querystring) {\n    var body = header;\n    var name = querystring.name || 'lady';\n\n    switch (path) {\n        case '/greeting':\n            body += \"Hello \" + name + \"!\";\n            body += goBack;\n            break;\n        case '/farewell':\n            body += \"Goodbye, \" + name + \". :(\";\n            body += goBack;\n            break;\n        default:\n            body += 'Hello! Please click one of the following links: ';\n            body += '<ul>'\n            body += '<li><a href=\"/greeting?name=Pamela\">Greet Pamela</a></li>';\n            body += '<li><a href=\"/greeting?name=Adria\">Greet Adria</a></li>';\n            body += '<li><a href=\"/farewell?name=Liz\">Say goodbye to Liz</a></li>';\n            body += '<li><a href=\"/farewell?name=You\">Say goodbye to You</a></li>';\n            body += '</ul>';\n            break;\n    }\n\n    body += footer;\n    return body;\n}"]],"start1":0,"start2":0,"length1":0,"length2":1791}]],"length":1791}
{"contributors":[],"silentsave":true,"ts":1354160166060,"patch":[[{"diffs":[[1,"\n\n"],[0,"//These "]],"start1":0,"start2":0,"length1":8,"length2":10}]],"length":1793,"saved":false}
{"ts":1354160167574,"patch":[[{"diffs":[[1,"//These are node modules. They allow you to use node.js's APIs\nvar http = require('http'),\n    url = require('url');\n\n// http://nodejs.org/api/url.html - We'll be parsing the querystring with this.\n\nconsole.log('script running');\n\n\nhttp.createServer(function (request,responder) {\n    console.log('server running');\n    //Recieved request start - begin listening for more data.\n    request.addListener('data', function(chunk) {\n       //handle a chunk of data, passed in as a buffer.\n        request.formString += chunk.toString();\n    });\n    request.addListener('end', function() {\n        //we're done, now parse the form.\n        console.log(request.form);\n    });\n    request.addListener('close', function() {\n        //we're done, now parse the form.\n        console.log(request);\n    });\n\n    var response = getResponse(request);\n\n    responder.writehead(response.code, response.header);\n    responder.write()\n\n}).listen(process.env.PORT);\n\n\nfunction getResponse(request) {\n    var path = url.parse(request.url).pathname;\n    var method = request.method;\n    var querystring = url.parse(request.url, true).query;\n\n    if (request.method == 'POST') {\n        request.\n    } else {\n        request.form == null;\n    }\n\n}\n\n\n\nvar header ='<!doctype html><html><head><title>My Preprocessed App</title></head><body><div class=\"header\"><h1>My Preprocessed Header</h1>';\nvar goBack ='<a href=\"/\">Go Back Home</a>';\nvar footer ='</body>';\n\nfunction makeBody(path, querystring) {\n    var body = header;\n    var name = querystring.name || 'lady';\n\n    switch (path) {\n        case '/greeting':\n            body += \"Hello \" + name + \"!\";\n            body += goBack;\n            break;\n        case '/farewell':\n            body += \"Goodbye, \" + name + \". :(\";\n            body += goBack;\n            break;\n        default:\n            body += 'Hello! Please click one of the following links: ';\n            body += '<ul>'\n            body += '<li><a href=\"/greeting?name=Pamela\">Greet Pamela</a></li>';\n            body += '<li><a href=\"/greeting?name=Adria\">Greet Adria</a></li>';\n            body += '<li><a href=\"/farewell?name=Liz\">Say goodbye to Liz</a></li>';\n            body += '<li><a href=\"/farewell?name=You\">Say goodbye to You</a></li>';\n            body += '</ul>';\n            break;\n    }\n\n    body += footer;\n    return body;\n}"],[0,"\n\n//These ar"]],"start1":0,"start2":0,"length1":12,"length2":2351}]],"length":4132,"saved":false}
{"ts":1354160172430,"patch":[[{"diffs":[[0,";\n}\n"],[-1,"\n//These are node modules. They allow you to use node.js's APIs\nvar http = require('http'),\n\turl = require('url');\n\n// http://nodejs.org/api/url.html - We'll be parsing the querystring with this.\n\nconsole.log('script running');\nvar header ='<!doctype html><html><head><title>My Preprocessed App</title></head><body><div class=\"header\"><h1>My Preprocessed Header</h1>';\nvar goBack ='<a href=\"/\">Go Back Home</a>';\nvar footer ='</body>';\n\nhttp.createServer(function (request,response) {\n    console.log('server running');\n\tvar path = url.parse(request.url).pathname;\n    var querystring = url.parse(request.url, true).query;  //return an object from a querystring with raw name-value pairs.\n    var body = makeBody(path, querystring);\n    response.writeHead(200, {\n    'Content-Length': body.length,\n    'Content-Type': 'text/html' });\n    response.end(body);\n}).listen(process.env.PORT);\n\n\n\n\nfunction makeBody(path, querystring) {\n    var body = header;\n    var name = querystring.name || 'lady';\n\n    switch (path) {\n        case '/greeting':\n            body += \"Hello \" + name + \"!\";\n            body += goBack;\n            break;\n        case '/farewell':\n            body += \"Goodbye, \" + name + \". :(\";\n            body += goBack;\n            break;\n        default:\n            body += 'Hello! Please click one of the following links: ';\n            body += '<ul>'\n            body += '<li><a href=\"/greeting?name=Pamela\">Greet Pamela</a></li>';\n            body += '<li><a href=\"/greeting?name=Adria\">Greet Adria</a></li>';\n            body += '<li><a href=\"/farewell?name=Liz\">Say goodbye to Liz</a></li>';\n            body += '<li><a href=\"/farewell?name=You\">Say goodbye to You</a></li>';\n            body += '</ul>';\n            break;\n    }\n\n    body += footer;\n    return body;\n}"]],"start1":2336,"start2":2336,"length1":1796,"length2":4}]],"length":2340,"saved":false}
{"ts":1354160174370,"patch":[[{"diffs":[[0," body;\n}"],[-1,"\n"]],"start1":2331,"start2":2331,"length1":9,"length2":8}]],"length":2339,"saved":false}
